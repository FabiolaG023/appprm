

<div class="col-md-12 bg-body-tertiary">
  <div class="card" data-aos="fade-up" data-aos-delay="800">




    <div class="card-body">

  <div class="row justify-content-around">
    <div class="col-md-5  order-md-last" *ngIf="statusRes==302">
      <h4 class="d-flex justify-content-between align-items-center mb-3">
        <span class="text-primary">Informacion: Lider o Movimiento</span>
      </h4>
      <div class="card mb-3" style="max-width: 540px;">
        <div class="row g-0">
          <div class="col-md-4" >
            <div class="m-b-25" >
              <img [src]="imageSrc" class="img-fluid rounded-start" alt="User-Profile-Image">
          </div>

          </div>
          <div class="col-md-8">
            <div class="card-body" >
              <h5 class="card-title">

                  <h2>{{dataLider.nombre}}</h2>

              </h5>


              <ul class="list-group list-group-flush">
                <li class="list-group-item">Candidatura: <p class="text-primary"> {{dataLider.idcandidatura.nombre}}</p></li>
                <li class="list-group-item">Provincia: <p class="text-primary">{{dataLider.idprovincia.descripcion}}</p> </li>
                <li class="list-group-item">Municipio: <p class="text-primary">{{dataLider.idmunicipio.municipio}}</p> </li>
              </ul>



            </div>
          </div>
        </div>
      </div>


    </div>
    <div class="col-md-7 ">

      <div *ngIf="statusRes == 302; else notLider">
        <div class="flex-wrap card-header d-flex justify-content-between align-items-center">
          <div class="header-title">
              <h4 class="card-title">Editar Lider</h4>
          </div>
        </div>


      <form [formGroup]="updateForm"   (ngSubmit)="updateData()">
        <div class="row g-3">
          <div class="col-sm-6">
            <label for="firstName" class="form-label">Nombre</label>
            <input type="text" class="form-control" formControlName="nombre"  name="nombre" >
          </div>

          <div class="col-sm-6">
            <label for="lastName" class="form-label">Candidatura</label>
            <select class="form-select form-select" formControlName="idcandidatura"   name="idcandidatura" aria-label=".form-select-sm example">
              <option  *ngFor="let candidatura of candidaturas" value="{{candidatura.id}}">{{candidatura.nombre}}</option>
          </select>
          </div>

          <div class="col-12">
            <label for="username" class="form-label">Foto</label>
            <div class="input-group has-validation">
              <input type="file" (change)="onFileSelected($event)" class="form-control"  accept="image/png, image/jpeg">
            </div>
          </div>

          <div class="col-6">
            <label for="email" class="form-label">Provincia</label>
            <select class="form-select form-select" formControlName="idprovincia" [(ngModel)]="selectedProvince" (change)="getMunicipiosXProvincia()"  aria-label=".form-select-sm example">
              <option  *ngFor="let provincia of provincias" value ="{{provincia.id}}" >{{provincia.descripcion}} </option>
          </select>
          </div>

          <div class="col-6">
            <label for="address" class="form-label">Municipio</label>
            <select class="form-select form-select" formControlName="idmunicipio" aria-label=".form-select-sm example">
              <option  *ngFor="let municipio of municipios" value="{{municipio.id}}">{{municipio.municipio}}</option>
             </select>
          </div>


        </div>

        <hr class="my-4">

        <button class="w-100 btn btn-outline-warning btn-lg" type="submit"><i class="fa-solid fa-pen"></i> Editar</button>
      </form>

      </div>

      <ng-template #notLider>
        <h4 class="mb-3">Crear Lider</h4>
        <div class="flex-wrap card-header d-flex justify-content-between align-items-end">
          <button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#newModal">
            <span class="btn-inner">
              <i class="fa-solid fa-plus"></i>
            </span>
            Nuevo
          </button>
    </div>

      <form [formGroup]="formLider"  (ngSubmit)="addLider()">
        <div class="row g-3">
          <div class="col-sm-6">
            <label for="firstName" class="form-label">Nombre</label>
            <input type="text" class="form-control" formControlName="nombre"  name="nombre" >
          </div>
          <div class="col-sm-6">
            <label for="lastName" class="form-label">Candidatura</label>
            <select class="form-select form-select" formControlName="idcandidatura"   name="idcandidatura" aria-label=".form-select-sm example">
              <option  *ngFor="let candidatura of candidaturas" value="{{candidatura.id}}">{{candidatura.nombre}}</option>
          </select>
          </div>
          <div class="col-12">
            <label for="username" class="form-label">Foto</label>
            <div class="input-group has-validation">
              <input type="file" (change)="onFileSelected($event)" name="foto" class="form-control"  accept="image/png, image/jpeg">
            </div>
          </div>
          <div class="col-6">
            <label for="email" class="form-label">Provincia</label>
            <select class="form-select form-select" formControlName="idprovincia" [(ngModel)]="selectedProvince" (change)="getMunicipiosXProvincia()"  aria-label=".form-select-sm example">
              <option  *ngFor="let provincia of provincias" value ="{{provincia.id}}" >{{provincia.descripcion}} </option>
          </select>
          </div>
          <div class="col-6">
            <label for="address" class="form-label">Municipio</label>
            <select class="form-select form-select" formControlName="idmunicipio" aria-label=".form-select-sm example">
              <option  *ngFor="let municipio of municipios" value="{{municipio.id}}">{{municipio.municipio}}</option>
             </select>
          </div>
        </div>
        <hr class="my-4">
        <button class="w-100 btn btn-primary btn-lg" type="submit">Crear</button>
      </form>
      </ng-template>
    </div>
  </div>
    </div>
</div>
</div>
